	#
# Minimal Sphinx configuration sample (clean, simple, functional)
#

source sentences_en_ru_en
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query		= \
		SELECT sentence_id AS id, sentence_en \
		FROM sentences_en_ru

}

source sentences_en_ru_en_clean
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query		= \
		SELECT sentence_id AS id, sentence_en_clean \
		FROM sentences_en_ru

}


source sentences_en_ru_ru_clean
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query_pre = SET NAMES utf8

	sql_query		= \
		SELECT sentence_id AS id, sentence_ru_clean \
		FROM sentences_en_ru

}


source sentences_en_fr_en
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query_pre = SET NAMES utf8

	sql_query		= \
		SELECT sentence_id AS id, sentence_en \
		FROM sentences_en_fr

}

source sentences_en_fr_en_clean
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query_pre = SET NAMES utf8

	sql_query		= \
		SELECT sentence_id AS id, sentence_en_clean \
		FROM sentences_en_fr

}

source sentences_en_fr_fr
{
	type			= mysql

	sql_host		= localhost
	sql_user		= sergeyvilov
	sql_pass		= keith550
	sql_db			= movies
	sql_port		= 3306	# optional, default is 3306

	sql_query_pre = SET NAMES utf8

	sql_query		= \
		SELECT sentence_id AS id, sentence_fr \
		FROM sentences_en_fr

}

common {

lemmatizer_base = /home/sergeyvilov/sphinx/dicts/

}

index sentences_en_ru_en
{
	source			= sentences_en_ru_en
	path			= /home/sergeyvilov/sphinx/indexes/en_ru_en/
	min_infix_len = 3
	#min_prefix_len=3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}



index sentences_en_ru_en_clean
{
	source			= sentences_en_ru_en_clean
	path			= /home/sergeyvilov/sphinx/indexes/en_ru_en_clean/
	morphology = lemmatize_en_all
	min_infix_len = 3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}


index sentences_en_ru_ru_clean
{
	source			= sentences_en_ru_ru_clean
	path			= /home/sergeyvilov/sphinx/indexes/en_ru_ru_clean/
	morphology = lemmatize_ru_all
	min_infix_len = 3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}

index sentences_en_fr_en
{
	source			= sentences_en_fr_en
	path			= /home/sergeyvilov/sphinx/indexes/en_fr_en/
	min_infix_len = 3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}

index sentences_en_fr_en_clean
{
	source			= sentences_en_fr_en_clean
	path			= /home/sergeyvilov/sphinx/indexes/en_fr_en_clean/
	morphology = lemmatize_en_all
	min_infix_len = 3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}


index sentences_en_fr_fr
{
	source			= sentences_en_fr_fr
	path			= /home/sergeyvilov/sphinx/indexes/en_fr_fr/
	min_infix_len = 3
	# default are English and Russian letters
	#charset_table = 0..9, A..Z->a..z, _, a..z, \
  #  U+410..U+42F->U+430..U+44F, U+430..U+44F, U+401->U+451, U+451
}

#index sentences_ru
#{
#	source			= src1
#	path			= /home/sergeyvilov/sphinx/indexes/ru/
#}

#index testrt
#{
#	type			= rt
#	rt_mem_limit		= 128M

#	path			= /var/data/testrt

#	rt_field		= content
#	rt_attr_uint		= gid
#}


indexer
{
	mem_limit		= 128M
}


searchd
{
	listen			= 9312
	listen			= 9306:mysql41
	log			= /home/sergeyvilov/sphinx/indexes/log/searchd.log
	query_log		= /home/sergeyvilov/sphinx/indexes/log/query.log
	read_timeout		= 5
	pid_file		= /home/sergeyvilov/sphinx/indexes/log/searchd.pid
	seamless_rotate		= 1
	preopen_indexes		= 1
	unlink_old		= 1
	#expansion_limit = 100
	workers			= threads # for RT to work
	binlog_path		= /home/sergeyvilov/sphinx/indexes/data
}
